<h1  class="govuk-heading-l"><%= t 'profile.title' %></h1>

<div>
  <h2  class="govuk-heading-m"><%= t 'profile.welcome' %> <%= @user.full_name %></h2>

<div class="govuk-accordion" data-module="govuk-accordion" id="accordion-default">
  <div class="govuk-accordion__section ">
    <div class="govuk-accordion__section-header">
      <h2 class="govuk-accordion__section-heading">
        <span class="govuk-accordion__section-button" id="accordion-default-heading-2">
          <%= t 'profile.heading' %>
        </span>
      </h2>
    </div>
    <div id="accordion-default-content-1" class="govuk-accordion__section-content" aria-labelledby="accordion-default-heading-1">
      <p class="govuk-body"><span class="govuk-body govuk-!-font-weight-bold"><%= t 'profile.id' %></span><%= @user.user_id %></p>
      <p class="govuk-body"><span class="govuk-body govuk-!-font-weight-bold"><%= t 'profile.given_name' %></span><%= @user.given_name %></p>
      <p class="govuk-body"><span class="govuk-body govuk-!-font-weight-bold"><%= t 'profile.family_name' %></span><%= @user.family_name %></p>
      <p class="govuk-body"><span class="govuk-body govuk-!-font-weight-bold"><%= t 'profile.email' %></span><%= @user.email %></p>
      <p class="govuk-body"><span class="govuk-body govuk-!-font-weight-bold"><%= t 'profile.phone' %></span><%= @user.phone_number %></p>
      <p class="govuk-body"><span class="govuk-body govuk-!-font-weight-bold"><%= t 'profile.roles' %></span><%= @user.roles %></p>
    </div>
  </div>
  <div class="govuk-accordion__section ">
    <div class="govuk-accordion__section-header">
      <h2 class="govuk-accordion__section-heading">
        <span class="govuk-accordion__section-button" id="accordion-default-heading-2">
          <%= t 'profile.permissions_heading' %>
        </span>
      </h2>
    </div>
    <div id="accordion-default-content-2" class="govuk-accordion__section-content" aria-labelledby="accordion-default-heading-2">
      <table class="govuk-table">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header"><%= t 'profile.permissions' %></th>
            <th scope="col" class="govuk-table__header"><%= t 'profile.access' %></th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          <% @user.permissions.to_hash.each do |key, value| -%>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><%= key.titlecase %></th>
              <td class="govuk-table__cell">
                <% if value %>
                  &#9989;
                <% end %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>  
    </div>
  </div>
</div>
